"use strict";var c=require("../common/vendor.js");function l(t){let e=t;switch(t){case"camera":e="\u6444\u50CF\u5934";break;case"record":e="\u9EA6\u514B\u98CE";break;case"userLocation":e="\u4F4D\u7F6E";break}t=`scope.${t}`,e=`\u8BF7\u524D\u5F80\u8BBE\u7F6E\u9875\u6388\u4E88${e}\u6743\u9650`;const n={scope:t,content:e};return new Promise((o,a)=>{c.index.getSetting({success:u=>{let i=u.authSetting[n.scope];switch(console.warn(`${n.scope} = ${i}`),i){case!0:o(!0);break;case!1:c.index.showModal({title:"\u6388\u6743\u63D0\u793A",content:n.content,success:s=>{s.confirm&&c.index.openSetting({success:r=>{r.authSetting[n.scope]&&o(!0),console.warn("settingRes",r)}}),s.cancel&&c.index.showModal({title:"\u60A8\u5DF2\u53D6\u6D88\u6388\u6743",content:"\u9700\u8981\u6388\u6743\u624D\u53EF\u6B63\u5E38\u8FD0\u884C",showCancel:!1})}});break;default:c.index.authorize({scope:n.scope,success(){o(!0)},fail(s){a(!1)}})}},fail:a})})}exports.getSettingScope=l;
