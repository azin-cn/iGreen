"use strict";var o=require("../../common/vendor.js"),C=require("../../utils/index.js"),s=require("../../utils/getSettingScope.js"),L=require("./use-swiper.js");Math||P();const P=()=>"./components/IBanner/index.js",f={__name:"index",setup(D){const h=getApp().globalData,{title:m,system:{statusBarHeight:B}}=h,u=160,d=54,{list:v,filterStyle:p}=L.useSwiper(),F=o.ref([{name:"\u56DE\u6536\u91D1\u5C5E",icon:"icon-a-ziyuan12",color:"#FBAA01",bg:"#FEF1C7"},{name:"\u65E7\u8863\u56DE\u6536",icon:"icon-clothes-full",color:"#07AF72",bg:"#DCF7E1"},{name:"\u7EB8\u7C7B\u56DE\u6536",icon:"icon-zhixiang_niupizhixiang-3",color:"#F95959",bg:"#FCE2E1"},{name:"\u5851\u6599\u56DE\u6536",icon:"icon-zhusuji01",color:"#20AAE9",bg:"#DCF2FD"},{name:"\u7535\u5668\u56DE\u6536",icon:"icon-jiadiandianqi",color:"#5D86E2",bg:"#EAEDFE"}]),b=o.ref([{name:"\u56DE\u6536\u91CD\u91CF",icon:"icon-tongji",count:"0",unit:"KG",color:"#764831",bg:"#FFEBE0"},{name:"\u53C2\u4E0E\u6B21\u6570",icon:"icon-pingjiacishu",count:"0",unit:"\u6B21",color:"#486091",bg:"#E9ECFF"}]),_=o.ref([{name:"\u5728\u7EBF\u9884\u7EA6",icon:"icon-gongzuotai-daikexiadan",color:"#07AF72",bg:"#DCF7E1"},{name:"\u7535\u8BDD\u9884\u7EA6",icon:"icon-dianhuatianchong",color:"#FBAA01",bg:"#FEF1C7"}]),w=o.ref(["https://img0.baidu.com/it/u=1703483666,1983445664&fm=253&fmt=auto&app=138&f=JPG?w=640&h=426","https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fwww.microelecone.com%2Fuploads%2Fallimg%2F200204%2F1-200204024025238.gif&refer=http%3A%2F%2Fwww.microelecone.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=auto?sec=1663744185&t=deb68af0c7750aa18fd89cd07904cc44"]),g=o.index.createMapContext("map"),r=o.ref([]),i={latitude:39.92,longitude:116.46},x=o.ref([]),a=o.ref(!1);function S(){console.log("onRefresh")}function E(t){console.log("operationClick",t)}function k(){console.log("navigateToMap"),s.getSettingScope("userLocation").then(()=>{console.log(i),o.index.openLocation({latitude:i.latitude,longitude:i.longitude,success(){console.log("\u6210\u529F\u6253\u5F00\u5730\u56FE")},fail:console.log})})}function A(t,n){console.log("moveToLocation"),s.getSettingScope("userLocation").then(()=>{t&&n?g.moveToLocation(t,n):g.moveToLocation()}).catch(console.log)}function j(t){const{markerId:n}=t,e=r.value.filter(c=>{const l=c.id===n;return c.iconPath=l?"/static/images/selected.png":"/static/images/destination.png",l})[0];i.latitude=e.latitude,i.longitude=e.longitude}return o.onShow(()=>{s.getSettingScope("userLocation").then(C.getLocation).then(t=>{i.latitude=t.latitudel,i.longitude=t.longitude,g.includePoints({points:[{latitude:t.latitude,longitude:t.longitude},{latitude:t.latitude+.007,longitude:t.longitude+.007},{latitude:t.latitude+.003,longitude:t.longitude+.005},{latitude:t.latitude+.005,longitude:t.longitude+.003}],padding:[80,80,80,80]}),r.value=[{id:1,latitude:t.latitude+.007,longitude:t.longitude+.007,width:40,height:40,iconPath:"/static/images/destination.png"},{id:2,latitude:t.latitude+.005,longitude:t.longitude+.003,width:40,height:40,iconPath:"/static/images/destination.png"},{id:3,latitude:t.latitude+.003,longitude:t.longitude+.005,width:40,height:40,iconPath:"/static/images/destination.png"}]}).catch(console.log)}),o.onPageScroll(t=>{const{scrollTop:n}=t;!a.value&&n>=u-d?a.value=!0:a&&n<u-d&&(a.value=!1),n<u&&(p.value={"backdrop-filter":`blur(${n/8}px)`})}),(t,n)=>o.e({a:a.value},a.value?{b:o.t(o.unref(m))}:{},{c:o.p({list:o.unref(v),filterStyle:o.unref(p)}),d:o.f(F.value,(e,c,l)=>({a:o.n(e.icon),b:e.color,c:e.bg,d:o.t(e.name),e:e.icon})),e:o.o(S),f:o.f(b.value,(e,c,l)=>({a:o.n(e.icon),b:o.t(e.name),c:o.t(e.count),d:o.t(e.unit),e:e.icon,f:e.color,g:e.bg})),g:o.f(w.value,(e,c,l)=>({a:e,b:e})),h:o.f(_.value,(e,c,l)=>({a:o.n(e.icon),b:o.t(e.name),c:e.icon,d:e.color,e:e.bg,f:o.o(T=>E(e.icon),e.icon)})),i:o.o(k),j:o.o(A),k:r.value,l:x.value,m:o.o(j)})}};var y=o._export_sfc(f,[["__scopeId","data-v-57280228"],["__file","D:/workspace/Uniapp/project/iGreen/pages/index/index.vue"]]);f.__runtimeHooks=1;wx.createPage(y);
